<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
  <meta name="generator" content="HTML Tidy for Linux (vers 11 February 2007), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>1.4. Yafçš„æ€§èƒ½</title>
  <link href="styles.css" tppabs="http://www.laruence.com/manual/css/styles.css" rel="stylesheet" type="text/css">
  <meta content="Zoeey Doc Generator" name="generator">
  <link rel="home" href="index.html" title="Yaf(Yet Another Framework)ç”¨æˆ·æ‰‹å†Œ">
  <link rel="up" href="yaf.infos.html" title="ç¬¬ 1 ç«  å…³äºYaf">
  <link rel="prev" href="yaf.sequence.html" title="1.3. æµç¨‹å›¾">
  <link rel="next" href="yaf.install.html" title="ç¬¬ 2 ç«  Yafå®‰è£…/é…ç½®">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
  <div class="navheader">
    <table summary="Navigation header" width="100%">
      <tr>
        <th align="center" colspan="3">1.4. Yafçš„æ€§èƒ½</th>
      </tr>

      <tr>
        <td align="left" width="20%"><a accesskey="p" href="yaf.sequence.html" tppabs="http://www.laruence.com/manual/yaf.sequence.html">ä¸Šä¸€é¡µ</a>&nbsp;</td>

        <th align="center" width="60%">ç¬¬ 1 ç«  å…³äºYaf</th>

        <td align="right" width="20%">&nbsp;<a accesskey="n" href="yaf.install.html" tppabs="http://www.laruence.com/manual/yaf.install.html">ä¸‹ä¸€é¡µ</a></td>
      </tr>
    </table>
    <hr>
  </div>

  <div lang="zh_cn" class="section" title="1.4. Yafçš„æ€§èƒ½">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both"><a name="yaf.bench" id="yaf.bench"></a>1.4. Yafçš„æ€§èƒ½</h2>
        </div>
      </div>
    </div>

    <div class="section" title="å¯¹æ¯”">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="yaf.bench.bref" id="yaf.bench.bref"></a>å¯¹æ¯”</h3>
          </div>
        </div>
      </div>ä¸ºäº†æé™çš„çœ‹å‡ºYafæ¡†æ¶çš„æ€§èƒ½å¦‚ä½•, ä½œè€…å¹¶æ²¡æœ‰å’Œå…¶ä»–æ¡†æ¶åšå¯¹æ¯”, è€Œæ˜¯å’ŒåŸç”Ÿçš„PHPåšå¯¹æ¯”, æµ‹è¯•ä»£ç å¦‚ä¸‹:

      <div class="example">
        <a name="N2014C" id="N2014C"></a>

        <p class="title"><b>ä¾‹ 1.1. 1.æµ‹è¯•ç”¨åŸç”Ÿçš„PHP<code class="filename">orig.php</code></b></p>

        <div class="example-contents">
          <pre class="programlisting">
                                         
&lt;?php
class IndexController {
        public function actionIndex() {
                echo "Laruence";
        }       
}

$controller = new IndexController();
$controller-&gt;actionIndex();
?&gt;
                                           
                          
</pre>
        </div>
      </div><br class="example-break">

      <div class="example">
        <a name="N20158" id="N20158"></a>

        <p class="title"><b>ä¾‹ 1.2. 2.æµ‹è¯•ç”¨çš„Yafçš„å…¥å£æ–‡ä»¶<code class="filename">ap.php</code></b></p>

        <div class="example-contents">
          <pre class="programlisting">
                                         
&lt;?php
$conf = array(
        "application.directory" =&gt; "/home/laruence/local/www/htdocs/ap",
);

$app = new Yaf_Application($conf);
$app-&gt;run();
                                           
                          
</pre>
        </div>
      </div><br class="example-break">

      <div class="example">
        <a name="N20164" id="N20164"></a>

        <p class="title"><b>ä¾‹ 1.3. 2.æµ‹è¯•ç”¨çš„Yafçš„é»˜è®¤æ§åˆ¶å™¨<code class="filename">Index.php</code></b></p>

        <div class="example-contents">
          <pre class="programlisting">
                                         
&lt;?php
class IndexController extends Yaf_Controller {
        public function actionIndex() {
                $this-&gt;disableView(); //å…³é—­è§†å›¾è¾“å‡º
                echo "Laruence";
        }
}
?&gt;
                                           
                          
</pre>
        </div>
      </div><br class="example-break">
    </div>

    <div class="section" title="æµ‹è¯•ç»“æœ">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="N20171" id="N20171"></a>æµ‹è¯•ç»“æœ</h3>
          </div>
        </div>
      </div>ä½œè€…ç®€å•çš„é‡‡ç”¨äº†abä½œä¸ºæµ‹è¯•å·¥å…·, åˆ†åˆ«åœ¨å¹¶å‘1, 100, 200çš„æƒ…å†µä¸‹å¯¹ä¿©è€…åšäº†æµ‹è¯•.

      <div class="section" title="1ä¸ªå¹¶å‘">
        <div class="titlepage">
          <div>
            <div>
              <h4 class="title"><a name="N20176" id="N20176"></a>1ä¸ªå¹¶å‘</h4>
            </div>
          </div>
        </div>

        <div class="example">
          <a name="N2017B" id="N2017B"></a>

          <p class="title"><b>ä¾‹ 1.4. è¯·æ±‚1000æ¬¡, åŸç”Ÿçš„PHP</b></p>

          <div class="example-contents">
            <pre class="programlisting">
                                         
$ ./ab -n1000 -c1 http://127.0.0.1/orig.php

Document Path:          orig.php
Document Length:        8 bytes

Concurrency Level:      1
Time taken for tests:   0.463 seconds
Complete requests:      1000
Failed requests:        0
Write errors:           0
Total transferred:      130000 bytes
HTML transferred:       8000 bytes
Requests per second:    2159.41 [#/sec] (mean)
Time per request:       0.463 [ms] (mean)
Time per request:       0.463 [ms] (mean, across all concurrent requests)
Transfer rate:          274.14 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.0      0       0
Processing:     0    0   0.2      0       5
Waiting:        0    0   0.2      0       5
Total:          0    0   0.2      0       5

Percentage of the requests served within a certain time (ms)
  50%      0
  66%      0
  75%      0
  80%      0
  90%      0
  95%      0
  98%      0
  99%      1
 100%      5 (longest request)

                                   
                  
</pre>
          </div>
        </div><br class="example-break">

        <div class="example">
          <a name="N20185" id="N20185"></a>

          <p class="title"><b>ä¾‹ 1.5. è¯·æ±‚1000æ¬¡, Yaf</b></p>

          <div class="example-contents">
            <pre class="programlisting">
                                 
$ ./ab -n1000 -c1 http://127.0.0.1/ap/index.php

Document Path:          /ap/index.php
Document Length:        8 bytes

Concurrency Level:      1
Time taken for tests:   0.525 seconds
Complete requests:      1000
Failed requests:        0
Write errors:           0
Total transferred:      130000 bytes
HTML transferred:       8000 bytes
Requests per second:    1906.24 [#/sec] (mean)
Time per request:       0.525 [ms] (mean)
Time per request:       0.525 [ms] (mean, across all concurrent requests)
Transfer rate:          242.00 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.0      0       0
Processing:     0    0   0.3      0       7
Waiting:        0    0   0.3      0       7
Total:          0    0   0.3      1       7
ERROR: The median and mean for the total time are more than twice the standard
       deviation apart. These results are NOT reliable.

Percentage of the requests served within a certain time (ms)
  50%      1
  66%      1
  75%      1
  80%      1
  90%      1
  95%      1
  98%      1
  99%      1
 100%      7 (longest request)
                                   
                  
</pre>
          </div>
        </div><br class="example-break">
      </div>

      <div class="section" title="100ä¸ªå¹¶å‘">
        <div class="titlepage">
          <div>
            <div>
              <h4 class="title"><a name="N20190" id="N20190"></a>100ä¸ªå¹¶å‘</h4>
            </div>
          </div>
        </div>

        <div class="example">
          <a name="N20195" id="N20195"></a>

          <p class="title"><b>ä¾‹ 1.6. è¯·æ±‚1000æ¬¡, åŸç”Ÿçš„PHP</b></p>

          <div class="example-contents">
            <pre class="programlisting">
                                         
$ ./ab -n1000 -c100 http://127.0.0.1/orig.php

Document Path:          orig.php
Document Length:        8 bytes

Concurrency Level:      100
Time taken for tests:   0.287 seconds
Complete requests:      1000
Failed requests:        0
Write errors:           0
Total transferred:      130000 bytes
HTML transferred:       8000 bytes
Requests per second:    3478.82 [#/sec] (mean)
Time per request:       28.745 [ms] (mean)
Time per request:       0.287 [ms] (mean, across all concurrent requests)
Transfer rate:          441.65 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   1.0      0       6
Processing:     5   27   4.8     27      35
Waiting:        5   27   4.8     27      35
Total:          6   27   4.6     27      36

Percentage of the requests served within a certain time (ms)
  50%     27
  66%     28
  75%     29
  80%     31
  90%     35
  95%     35
  98%     35
  99%     35
 100%     36 (longest request)
                                   
                  
</pre>
          </div>
        </div><br class="example-break">

        <div class="example">
          <a name="N2019F" id="N2019F"></a>

          <p class="title"><b>ä¾‹ 1.7. è¯·æ±‚1000æ¬¡, Yaf</b></p>

          <div class="example-contents">
            <pre class="programlisting">
                                 
$ ./ab -n1000 -c100 http://127.0.0.1/ap/index.php

Document Path:          /ap/index.php
Document Length:        8 bytes

Concurrency Level:      100
Time taken for tests:   0.316 seconds
Complete requests:      1000
Failed requests:        0
Write errors:           0
Total transferred:      130000 bytes
HTML transferred:       8000 bytes
Requests per second:    3165.24 [#/sec] (mean)
Time per request:       31.593 [ms] (mean)
Time per request:       0.316 [ms] (mean, across all concurrent requests)
Transfer rate:          401.84 [Kbytes/sec] received

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   1.0      0       6
Processing:     6   30   5.6     27      44
Waiting:        6   30   5.6     27      44
Total:          6   30   5.6     27      44

Percentage of the requests served within a certain time (ms)
  50%     27
  66%     32
  75%     34
  80%     36
  90%     37
  95%     40
  98%     42
  99%     42
 100%     44 (longest request)
                                   
                  
</pre>
          </div>
        </div><br class="example-break">
      </div>

      <div class="section" title="è¯´æ˜">
        <div class="titlepage">
          <div>
            <div>
              <h4 class="title"><a name="N201AA" id="N201AA"></a>è¯´æ˜</h4>
            </div>
          </div>
        </div>

        <p>åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­, é€šè¿‡vmstatè§‚å¯Ÿ, æœºå™¨çš„Idelä¸€ç›´ä¿æŒåœ¨50-60å·¦å³.</p>

        <p>æ€»ä½“æ¥çœ‹, Yafçš„æ€§èƒ½æ¯”èµ·åŸç”Ÿçš„PHP, æŸå¤±çš„ç¨‹åº¦åœ¨10%å·¦å³, å¦å¤–è€ƒè™‘åˆ°å› ä¸ºYafæœ‰ä¸€æ¬¡IOæ“ä½œ(è½½å…¥Controller), è€ŒåŸç”Ÿçš„PHPå¹¶æ²¡æœ‰, é‚£ä¹ˆåŸºæœ¬å¯ä»¥è®¤ä¸ºä½¿ç”¨äº†Yafæ¡†æ¶ä»¥å,
        æ€§èƒ½æŸå¤±åœ¨10%ä»¥å†….</p>

        <div class="important" title="é‡è¦" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Important">
            <tr>
              <td valign="top" align="center" rowspan="2" width="25"><img alt="[é‡è¦]" src="important.gif" tppabs="http://www.laruence.com/manual/images/important.gif"></td>

              <th align="left">é‡è¦</th>
            </tr>

            <tr>
              <td valign="top" align="left">åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­, å¹¶æ²¡æœ‰å¤šæ¬¡æŒ‘é€‰æœ€å¥½çš„æ•°æ®æ¥æŠŠæµ‹è¯•ç»“æœå¼„çš„æ¼‚äº®ç‚¹. å› ä¸ºæœ‰ä¸€äº›æ—¶å€™, Yafçš„æ€§èƒ½å‡ ä¹å’ŒåŸç”Ÿçš„PHPçš„æ€§èƒ½å·®åˆ«åœ¨2%ä»¥å†….</td>
            </tr>
          </table>
        </div>

        <p>æœ€å, è¦è¯´æ˜ä¸€ç‚¹: æµ‹è¯•ç»“æœ, åªæ˜¯ä¸€ä¸ªç®€å•çš„è¯´æ˜, å¹¶ä¸æ˜¯ä¸ºäº†è¯æ˜ä»€ä¹ˆç»“è®º. å› ä¸ºæ¡†æ¶çš„æ—¶é—´å’ŒçœŸæ­£åº”ç”¨é€»è¾‘çš„è€—æ—¶æ¯”èµ·æ¥, çœŸçš„æ˜¯å¾ˆå°çš„ä¸€éƒ¨åˆ†.</p>
      </div>
    </div>
  </div>

  <div class="navfooter">
    <hr>

    <table summary="Navigation footer" width="100%">
      <tr>
        <td align="left" width="40%"><a accesskey="p" href="yaf.sequence.html" tppabs="http://www.laruence.com/manual/yaf.sequence.html">ä¸Šä¸€é¡µ</a>&nbsp;</td>

        <td align="center" width="20%"><a accesskey="u" href="yaf.infos.html" tppabs="http://www.laruence.com/manual/yaf.infos.html">ä¸Šä¸€çº§</a></td>

        <td align="right" width="40%">&nbsp;<a accesskey="n" href="yaf.install.html" tppabs="http://www.laruence.com/manual/yaf.install.html">ä¸‹ä¸€é¡µ</a></td>
      </tr>

      <tr>
        <td valign="top" align="left" width="40%">1.3. æµç¨‹å›¾&nbsp;</td>

        <td align="center" width="20%"><a accesskey="h" href="index.html" tppabs="http://www.laruence.com/manual/index.html">èµ·å§‹é¡µ</a></td>

        <td valign="top" align="right" width="40%">&nbsp;ç¬¬ 2 ç«  Yafå®‰è£…/é…ç½®</td>
      </tr>
    </table>
  </div>
</body>
<script type="text/javascript" src="tongji.js" tppabs="http://js.tongji.linezing.com/728491/tongji.js"></script><noscript><a href="javascript:if(confirm('http://www.linezing.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.linezing.com/'" tppabs="http://www.linezing.com/"><img src="tongji.gif" tppabs="http://img.tongji.linezing.com/728491/tongji.gif"/></a></noscript>
</html>
