<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
  <meta name="generator" content="HTML Tidy for Linux (vers 11 February 2007), see www.w3.org">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>3.2. Hello World</title>
  <link href="styles.css" tppabs="http://www.laruence.com/manual/css/styles.css" rel="stylesheet" type="text/css">
  <meta content="Zoeey Doc Generator" name="generator">
  <link rel="home" href="index.html" title="Yaf(Yet Another Framework)ç”¨æˆ·æ‰‹å†Œ">
  <link rel="up" href="yaf.tutorial.html" title="ç¬¬ 3 ç«  å¿«é€Ÿå¼€å§‹">
  <link rel="prev" href="yaf.tutorial.html" title="ç¬¬ 3 ç«  å¿«é€Ÿå¼€å§‹">
  <link rel="next" href="tutorial.last.html" title="3.3. ä½¿ç”¨ä»£ç ç”Ÿæˆå·¥å…·">
</head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
  <div class="navheader">
    <table summary="Navigation header" width="100%">
      <tr>
        <th align="center" colspan="3">3.2. Hello World</th>
      </tr>

      <tr>
        <td align="left" width="20%"><a accesskey="p" href="yaf.tutorial.html" tppabs="http://www.laruence.com/manual/yaf.tutorial.html">ä¸Šä¸€é¡µ</a>&nbsp;</td>

        <th align="center" width="60%">ç¬¬ 3 ç«  å¿«é€Ÿå¼€å§‹</th>

        <td align="right" width="20%">&nbsp;<a accesskey="n" href="tutorial.last.html" tppabs="http://www.laruence.com/manual/tutorial.last.html">ä¸‹ä¸€é¡µ</a></td>
      </tr>
    </table>
    <hr>
  </div>

  <div class="sect1" title="3.2. Hello World">
    <div class="titlepage">
      <div>
        <div>
          <h2 class="title" style="clear: both"><a name="tutorial.firstpage" id="tutorial.firstpage"></a>3.2. Hello
          World</h2>
        </div>
      </div>
    </div>

    <div class="sect2" title="ç›®å½•ç»“æ„">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="tutorial.directory" id="tutorial.directory"></a>ç›®å½•ç»“æ„</h3>
          </div>
        </div>
      </div>

      <p>å¯¹äºYafçš„åº”ç”¨, éƒ½åº”è¯¥éµå¾ªç±»ä¼¼ä¸‹é¢çš„ç›®å½•ç»“æ„.</p>

      <div class="example">
        <a name="N203A3" id="N203A3"></a>

        <p class="title"><b>ä¾‹ 3.1. ä¸€ä¸ªå…¸å‹çš„ç›®å½•ç»“æ„</b></p>

        <div class="example-contents">
          <pre class="programlisting">

+ public
  |- index.php //å…¥å£æ–‡ä»¶
  |- .htaccess //é‡å†™è§„åˆ™    
  |+ css
  |+ img
  |+ js
+ conf
  |- application.ini //é…ç½®æ–‡ä»¶   
+ application
  |+ controllers
     |- Index.php //é»˜è®¤æ§åˆ¶å™¨
  |+ views    
     |+ index   //æ§åˆ¶å™¨
        |- index.phtml //é»˜è®¤è§†å›¾
  |+ modules //å…¶ä»–æ¨¡å—
  |+ library //æœ¬åœ°ç±»åº“
  |+ models  //modelç›®å½•
  |+ plugins //æ’ä»¶ç›®å½•

</pre>
        </div>
      </div>

      <p><br class="example-break"></p>
    </div>

    <div class="sect2" title="å…¥å£æ–‡ä»¶">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="tutorial.bootstrap" id="tutorial.bootstrap"></a>å…¥å£æ–‡ä»¶</h3>
          </div>
        </div>
      </div>å…¥å£æ–‡ä»¶æ˜¯æ‰€æœ‰è¯·æ±‚çš„å…¥å£, ä¸€èˆ¬éƒ½å€ŸåŠ©äºrewriteè§„åˆ™, æŠŠæ‰€æœ‰çš„è¯·æ±‚éƒ½é‡å®šå‘åˆ°è¿™ä¸ªå…¥å£æ–‡ä»¶.

      <div class="example">
        <a name="N203B7" id="N203B7"></a>

        <p class="title"><b>ä¾‹ 3.2. ä¸€ä¸ªç»å…¸çš„å…¥å£æ–‡ä»¶<code class="filename">public/index.php</code></b></p>

        <div class="example-contents">
          <pre class="programlisting">

&lt;?php
define("APP_PATH",  realpath(dirname(__FILE__) . '/../')); /* æŒ‡å‘publicçš„ä¸Šä¸€çº§ */
$app  = new Yaf_Application(APP_PATH . "/conf/application.ini");
$app-&gt;run();

    
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>
    </div>

    <div class="sect2" title="é‡å†™è§„åˆ™">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="tutorial.rewrite" id="tutorial.rewrite"></a>é‡å†™è§„åˆ™</h3>
          </div>
        </div>
      </div>

      <p>é™¤éæˆ‘ä»¬ä½¿ç”¨åŸºäºquery stringçš„è·¯ç”±åè®®(<a class="link" href="">Yaf_Route_Simple</a>, <a class="link" href=
      "">Yaf_Route_Supervar</a>), å¦åˆ™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨WebServeræä¾›çš„Rewriteè§„åˆ™, æŠŠæ‰€æœ‰è¿™ä¸ªåº”ç”¨çš„è¯·æ±‚, éƒ½å®šå‘åˆ°ä¸Šé¢æåˆ°çš„å…¥å£æ–‡ä»¶.</p>

      <div class="example">
        <a name="N203D5" id="N203D5"></a>

        <p class="title"><b>ä¾‹ 3.3. Apacheçš„Rewrite (httpd.conf)</b></p>

        <div class="example-contents">
          <pre class="programlisting">

#.htaccess, å½“ç„¶ä¹Ÿå¯ä»¥å†™åœ¨httpd.conf
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule .* index.php

    
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>

      <div class="example">
        <a name="N203DF" id="N203DF"></a>

        <p class="title"><b>ä¾‹ 3.4. Nginxçš„Rewrite (nginx.conf)</b></p>

        <div class="example-contents">
          <pre class="programlisting">

server {
  listen ****;
  server_name  domain.com;
  root   document_root;
  index  index.php index.html index.htm;

  if (!-e $request_filename) {
    rewrite ^/(.*)  /index.php/$1 last;
  }
}

    
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>

      <div class="example">
        <a name="N203E9" id="N203E9"></a>

        <p class="title"><b>ä¾‹ 3.5. Lighttpdçš„Rewrite (lighttpd.conf)</b></p>

        <div class="example-contents">
          <pre class="programlisting">

$HTTP["host"] =~ "(www.)?domain.com$" {
  url.rewrite = (
     "^/(.+)/?$"  =&gt; "/index.php/$1",
  )
}

    
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>

      <p><br class="example-break"></p>

      <div class="example">
        <a name="N203E10" id="N20310"></a>

        <p class="title"><b>ä¾‹ 3.6. <a href="javascript:if(confirm('http://sae.sina.com.cn/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://sae.sina.com.cn/'" tppabs="http://sae.sina.com.cn/" target="_blank">SAE</a>çš„Rewrite (config.yaml)</b></p>

        <div class="example-contents">
          <pre class="programlisting">

name: your_app_name
version: 1
handle:
    - rewrite: if(!is_dir() && !is_file() && path ~ "^(.*)$" ) goto "/index.php"
    
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>
      <div class="note" title="æ³¨æ„" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td valign="top" align="center" rowspan="2" width="25"><img alt="[æ³¨æ„]" src="note.gif" tppabs="http://www.laruence.com/manual/images/note.gif"></td>

            <th align="left">æ³¨æ„</th>
          </tr>

          <tr>
            <td valign="top" align="left">æ¯ç§Serverè¦å¯ç”¨Rewriteéƒ½éœ€è¦ç‰¹åˆ«è®¾ç½®, å¦‚æœå¯¹æ­¤æœ‰ç–‘é—®.. RTFM</td>
          </tr>
        </table>
      </div>
    </div>

    <div class="sect2" title="é…ç½®æ–‡ä»¶">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="tutorial.config" id="tutorial.config"></a>é…ç½®æ–‡ä»¶</h3>
          </div>
        </div>
      </div>

      <p>åœ¨Yafä¸­, é…ç½®æ–‡ä»¶æ”¯æŒç»§æ‰¿, æ”¯æŒåˆ†èŠ‚. å¹¶å¯¹PHPçš„å¸¸é‡è¿›è¡Œæ”¯æŒ. ä½ ä¸ç”¨æ‹…å¿ƒé…ç½®æ–‡ä»¶å¤ªå¤§é€ æˆè§£ææ€§èƒ½é—®é¢˜, å› ä¸ºYafä¼šåœ¨ç¬¬ä¸€ä¸ªè¿è¡Œçš„æ—¶å€™è½½å…¥é…ç½®æ–‡ä»¶, æŠŠæ ¼å¼åŒ–åçš„å†…å®¹ä¿æŒåœ¨å†…å­˜ä¸­. ç›´åˆ°é…ç½®æ–‡ä»¶æœ‰äº†ä¿®æ”¹,
      æ‰ä¼šå†æ¬¡è½½å…¥.</p>

      <div class="example">
        <a name="N20400" id="N20400"></a>

        <p class="title"><b>ä¾‹ 3.7. ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶<code class="filename">application/conf/application.ini</code></b></p>

        <div class="example-contents">
          <pre class="programlisting">

[product]
;æ”¯æŒç›´æ¥å†™PHPä¸­çš„å·²å®šä¹‰å¸¸é‡
application.directory=APP_PATH "/application/" 

     
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>
    </div>

    <div class="sect2" title="æ§åˆ¶å™¨">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="tutorial.controller" id="tutorial.controller"></a>æ§åˆ¶å™¨</h3>
          </div>
        </div>
      </div>åœ¨Yafä¸­, é»˜è®¤çš„æ¨¡å—/æ§åˆ¶å™¨/åŠ¨ä½œ, éƒ½æ˜¯ä»¥Indexå‘½åçš„, å½“ç„¶,è¿™æ˜¯å¯é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹çš„.

      <p>å¯¹äºé»˜è®¤æ¨¡å—, æ§åˆ¶å™¨çš„ç›®å½•æ˜¯åœ¨applicationç›®å½•ä¸‹çš„controllersç›®å½•ä¸‹, Actionçš„å‘½åè§„åˆ™æ˜¯"åå­—+Action"</p>

      <div class="example">
        <a name="N20419" id="N20419"></a>

        <p class="title"><b>ä¾‹ 3.8. é»˜è®¤æ§åˆ¶å™¨<code class="filename">application/controllers/Index.php</code></b></p>

        <div class="example-contents">
          <pre class="programlisting">

&lt;?php
class IndexController extends Yaf_Controller_Abstract {
   public function indexAction() {//é»˜è®¤Action
       $this-&gt;getView()-&gt;assign("content", "Hello World");
   }
}
?&gt;

    
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>
    </div>

    <div class="sect2" title="è§†å›¾æ–‡ä»¶">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="tutorial.view" id="tutorial.view"></a>è§†å›¾æ–‡ä»¶</h3>
          </div>
        </div>
      </div>Yafæ”¯æŒç®€å•çš„è§†å›¾å¼•æ“, å¹¶ä¸”æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰è‡ªå·±çš„è§†å›¾å¼•æ“, æ¯”å¦‚Smarty.

      <p>å¯¹äºé»˜è®¤æ¨¡å—, è§†å›¾æ–‡ä»¶çš„è·¯å¾„æ˜¯åœ¨applicationç›®å½•ä¸‹çš„viewsç›®å½•ä¸­ä»¥å°å†™çš„actionåçš„ç›®å½•ä¸­.</p>

      <div class="example">
        <a name="N20432" id="N20432"></a>

        <p class="title"><b>ä¾‹ 3.9. ä¸€ä¸ªé»˜è®¤Actionçš„è§†å›¾<code class=
        "filename">application/views/index/index.phtml</code></b></p>

        <div class="example-contents">
          <pre class="programlisting">

&lt;html&gt;
 &lt;head&gt;
   &lt;title&gt;Hello World&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
  &lt;?php echo $content;?&gt;
 &lt;/body&gt;
&lt;/html&gt;

    
</pre>
        </div>
      </div>

      <p><br class="example-break"></p>
    </div>

    <div class="sect2" title="è¿è¡Œ">
      <div class="titlepage">
        <div>
          <div>
            <h3 class="title"><a name="tutorial.run" id="tutorial.run"></a>è¿è¡Œ</h3>
          </div>
        </div>
      </div>

      <div class="example">
        <a name="N20448" id="N20448"></a>

        <p class="title"><b>ä¾‹ 3.10. åœ¨æµè§ˆå™¨è¾“å…¥</b></p>

        <div class="example-contents">
          <pre class="programlisting">

http://www.yourhostname.com/application/index.php

    
</pre>
        </div>
      </div>

      <p><br class="example-break">
      çœ‹åˆ°äº†Hello Worldè¾“å‡ºå§?</p>

      <div class="note" title="æ³¨æ„" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td valign="top" align="center" rowspan="2" width="25"><img alt="[æ³¨æ„]" src="note.gif" tppabs="http://www.laruence.com/manual/images/note.gif"></td>

            <th align="left">æ³¨æ„</th>
          </tr>

          <tr>
            <td valign="top" align="left">
              æˆ‘æ²¡æœ‰çœ‹åˆ°Hello world

              <p>å¦‚æœæ²¡æœ‰çœ‹åˆ°, é‚£ä¹ˆè¯·æŸ¥çœ‹PHPçš„é”™è¯¯æ—¥å¿—, æ‰¾å‡ºé—®é¢˜åœ¨å“ªé‡Œ.</p>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <div class="navfooter">
    <hr>

    <table summary="Navigation footer" width="100%">
      <tr>
        <td align="left" width="40%"><a accesskey="p" href="yaf.tutorial.html" tppabs="http://www.laruence.com/manual/yaf.tutorial.html">ä¸Šä¸€é¡µ</a>&nbsp;</td>

        <td align="center" width="20%"><a accesskey="u" href="yaf.tutorial.html" tppabs="http://www.laruence.com/manual/yaf.tutorial.html">ä¸Šä¸€çº§</a></td>

        <td align="right" width="40%">&nbsp;<a accesskey="n" href="tutorial.last.html" tppabs="http://www.laruence.com/manual/tutorial.last.html">ä¸‹ä¸€é¡µ</a></td>
      </tr>

      <tr>
        <td valign="top" align="left" width="40%">ç¬¬ 3 ç«  å¿«é€Ÿå¼€å§‹&nbsp;</td>

        <td align="center" width="20%"><a accesskey="h" href="index.html" tppabs="http://www.laruence.com/manual/index.html">èµ·å§‹é¡µ</a></td>

        <td valign="top" align="right" width="40%">&nbsp;3.3. ä½¿ç”¨ä»£ç ç”Ÿæˆå·¥å…·</td>
      </tr>
    </table>
  </div>
</body>
<script type="text/javascript" src="tongji.js" tppabs="http://js.tongji.linezing.com/728491/tongji.js"></script><noscript><a href="javascript:if(confirm('http://www.linezing.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.linezing.com/'" tppabs="http://www.linezing.com/"><img src="tongji.gif" tppabs="http://img.tongji.linezing.com/728491/tongji.gif"/></a></noscript>
</html>
